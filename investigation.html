<?php

$servername = "sql304.epizy.com";
$database = "epiz_27652406_niucamon";
$username = "epiz_27652406";
$password = "HHdTVo8iPQJ";

// Create connection
    $conn = mysqli_connect($servername, $username, $password, $database);
?>
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Mapa de Investigaciones - Sapiens delivery</title>
    <?php include("./admin/headSeo.php") ?>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-extra-markers@1.0.6/dist/css/leaflet.extra-markers.min.css"/>
    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet-extra-markers@1.0.6/src/assets/js/leaflet.extra-markers.min.js"></script>
</head>

<body>
    <?php include("./admin/nav.php") ?>

    <main class="page">
       <div class="Fondo img-fluid"></div>
        <section class="site clean-block about-us">
            <div class="container">
                <div class="block-heading">
                    <h2 class="text-info">Mapa de Investigaciones por territorio</h2>
                </div>
                <div class="form-inline">
                        <label class="my-1 mr-2" >Buscar en     </label>
                    <label class="my-1 mr-2" for="select-location-departamentos">Departamentos:</label>
                    <select class="custom-select my-1 mr-sm-2" id="select-location-departamentos">
                        <option value="4.234029340966529, -72.82036016563018" selected>Elige...</option>
                                <optgroup label="       ">
                            <option value="-4.19983693453, -69.9414267076">Amazonas</option> <!-- Leticia -->
                            <option value="6.246715564, -75.581713332">Antioqu칤a</option> <!-- medellin -->
                            <option value="7.02698141466, -71.426751178">Arauca</option> <!-- Arauquita -->
                            <option value="10.9759268186, -74.7952590482">Atl치ntico</option> <!-- Barranquilla -->
                            <option value="10.3849855226, -75.496431028	">Bol칤var</option> <!-- CARTAGENA DE INDIAS -->
                                <optgroup label="       ">
                            <option value="10.4604812152, 73.259389309">Boyac치</option> <!-- VALLEDUPAR -->
                            <option value="5.05768819705, -75.4910489848">Caldas</option> <!-- MANIZALES -->
                            <option value="1.6179229304, -75.6085604324">Caquet치</option> <!-- FLORENCIA -->
                            <option value="5.3276126513, -72.396915159">Casanare</option> <!-- YOPAL -->
                            <option value="7.97736233321, -75.1982903265">Cauca</option> <!-- CAUCASIA -->
                                <optgroup label="       ">
                            <option value="10.4604812152, -73.259389309">Cesar</option> <!-- VALLEDUPAR -->
                            <option value="5.69219518726, -76.6259693555">Choc칩</option> <!-- SAN FRANCISCO DE QUIBDO -->
                            <option value="8.7451325909, -75.8755779091">C칩rdoba</option> <!-- MONTER칈A -->
                            <option value="4.37531201654, -74.6692177783">Cundinamarca</option> <!-- AGUA DE DIOS -->
                            <option value="3.86616161896, -67.9188368372">Guain칤a</option> <!-- IN칈RIDA -->
                                <optgroup label="       ">
                            <option value="2.56642839915, -72.6389862155">Guaviare</option> <!-- SAN JOS칄 DEL GUAVIARE	 -->
                            <option value="2.93560441491, -75.2777225856">Huila</option> <!-- NEIVA -->
                            <option value="11.5287513839, -72.911488911">La Guajira</option> <!-- RIOHACHA, DISTRITO ESPECIAL, TUR칈STICO Y CULTURAL -->
                            <option value="11.2294335041, -74.1908941206">Magdalena</option> <!-- SANTA MARTA, DISTRITO TUR칈STICO, CULTURAL E HIST칍RICO	 -->
                            <option value="4.12386149961, -73.6270920374">Meta</option> <!-- VILLAVICENCIO -->
                                <optgroup label="       ">
                            <option value="1.21212436525, -77.2785763476">Nari침o</option> <!-- SAN JUAN DE PASTO -->
                            <option value="7.90530629465, -72.5082561962">Norte de Santander</option> <!-- SAN JOS칄 DE C칔CUTA -->
                            <option value="1.15229611807, -76.650271415">Putumayo</option> <!-- MOCOA -->
                            <option value="4.53598950231, -75.6807507586">Quind칤o</option> <!-- ARMENIA -->
                            <option value="4.80568026503, -75.7171230555">Risaralda</option> <!-- PEREIRA -->
                                <optgroup label="       ">
                            <option value="12.5830136907, -81.6960629797">San Andr칠s y Providencia</option> <!-- ARCHIPI칄LAGO DE SAN ANDR칄S, PROVIDENCIA Y SANTA CATALINA	 -->
                            <option value="7.11626727561, -73.1325981781">Santander</option> <!-- BUCARAMANGA -->
                            <option value="9.30233310439, -75.3954835627">Sucre</option> <!-- SINCELEJO -->
                            <option value="4.43960899136, -75.1937147765">Tolima</option> <!-- IBAGU칄 -->
                            <option value="3.41441430458, -76.5215651508">Valle del Cauca</option> <!-- SANTIAGO DE CALI, DISTRITO ESPECIAL, DEPORTIVO, CULTURAL, TUR칈STICO, EMPRESARIAL Y DE SERVICIOS -->
                                <optgroup label="       ">
                            <option value="1.25119056329, -70.2347505205">Vaup칠s</option> <!-- MIT칔 -->
                            <option value="6.18686418683, -67.4869969956">Vichada</option> <!-- PUERTO CARRE칌O  -->
                    </select>

                        <label class="my-1 mr-2" >O Buscar en     </label>
                    <label class="my-1 mr-2" for="select-location-ciudades">Ciudades:</label>
                    <select class="custom-select my-1 mr-sm-2" id="select-location-ciudades">
                        <option value="4.234029340966529, -72.82036016563018" selected>Elige...</option>
                                <optgroup label="       ">
                            <option value="4.65017303026, -74.1073590032">Bogot치</option> <!-- Cundinamarca -->
                            <option value="6.246715564, -75.581713332">Medell칤n</option> <!-- Antioquia -->
                            <option value="3.41441430458, -76.5215651508">Cali</option> <!-- Valle del Cauca -->
                            <option value="10.9759268186, -74.7952590482">Barranquilla</option> <!-- Atl치ntico -->
                            <option value="10.3849855226, -75.496431028">Cartagena de Indias</option> <!-- Bol칤var -->
                                <optgroup label="       ">
                            <option value="4.58549165821, -74.2145275305">Soacha</option> <!-- Cundinamarca -->
                            <option value="7.90530629465, -72.5082561962">C칰cuta</option> <!-- Norte de Santander -->
                            <option value="10.9101744673, -74.784833384">Soledad</option> <!-- Atl치ntico -->
                            <option value="7.11626727561, -73.1325981781">Bucaramanga</option> <!-- Santander -->
                            <option value="6.33406883641, -75.554665073">Bello</option> <!-- Antioquia -->
                                <optgroup label="       ">
                            <option value="4.12386149961, -73.6270920374">Villavicencio</option> <!-- Meta -->
                            <option value="4.43960899136, -75.1937147765">Ibagu칠</option> <!-- Tolima -->
                            <option value="11.2294335041, -74.1908941206">Santa Marta</option> <!-- Magdalena -->
                            <option value="10.4604812152, -73.259389309">Valledupar</option> <!-- Cesar -->
                            <option value="5.05768819705, -75.4910489848">Manizales</option> <!-- Caldas -->
                                <optgroup label="       ">
                            <option value="4.80568026503, -75.7171230555">Pereira</option> <!-- Risaralda -->
                            <option value="8.7451325909, -75.8755779091">Monter칤a</option> <!-- C칩rdoba -->
                            <option value="2.93560441491, -75.2777225856">Neiva</option> <!-- 	Huila -->
                            <option value="1.21212436525, -77.2785763476">Pasto</option> <!-- 	Nari침o -->
                            <option value="6.15581872915, -75.7868378278">Armenia</option> <!-- Quind칤o -->
                    </select>
                </div>

                        <label class="my-1 mr-2" >Por Investigaciones:     </label>
                    <label class="my-1 mr-2" for="select-location-entrevistas">Ciudades:</label>
                    <select class="custom-select my-1 mr-sm-2" id="select-location-entrevistas">
                        <option value="4.234029340966529, -72.82036016563018" selected>Elige...</option>
                                <optgroup label="Barranquilla">
                            <option value="10.9759268186, -74.7952590482">Entrevista con Deison | Sapiens Delivery</option> <!-- Atl치ntico -->
                                <optgroup label="Nari침o">
                            <option value="1.21212436525, -77.2785763476">Entrevista con Juliana | Sapiens Delivery</option> <!-- 	Nari침o -->
                                <optgroup label="Caquet치">
                            <option value="1.6179229304, -75.6085604324">Entrevista con Jaime Vergara | Sapiens Delivery</option> <!-- FLORENCIA -->
                                <optgroup label="Institucional">
                            <option value="4.65017303021, -74.1073590031">游 Nuestra misi칩n en Sapiens Delivery</option> <!-- Institucional -->
                            <option value="4.65017303023, -74.1073590033">游 Bienvenidos a Sapiens Delivery</option> <!-- Institucional -->
                                <optgroup label="Directores">
                            <option value="4.65017303025, -74.1073590035">Entrevista con Francesco | Sapiens Delivery</option> <!-- Directores -->
                                <optgroup label="Grupo especifico">
                            <option value="4.65017303027, -74.1073590037">Entrevista con Clemen | Sapiens Delivery</option> <!-- Grupo especifico -->
                    </select>
                </div>

                <!-- <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <label class="input-group-text" for="inputGroupSelect01">Investigaciones</label>
                    </div>
                    <div id="select-location">
                        <select class="custom-select" id="inputGroupSelect01">
                            <option value="-1" selected>Selecciona uno... </option>
                            <optgroup label="Paises">
                                <option value="40.748433, -73.985656">Empire State Building</option>
                                <option value="40.689167, -74.044444">Estatua de la Libertad</option>
                                <option value="51.507,0.1275">Londres</option>
                            </optgroup>
                        </select>
                    </div>
                </div> -->

            </div>
        </section>
    </main>
    <div style="height: 100%; margin: 2%; margin-bottom: 0%; margin-top: 0%;" id="map"></div>

    <?php include("./admin/jsFooter.php") ?>
    <script type="text/javascript">
        let maper = L.map('map').setView([4.234029340966529, -72.82036016563018], 5.236841);
        L.tileLayer('https://tile.jawg.io/jawg-streets/{z}/{x}/{y}.png?access-token=JEV0JwcmSzWn48G8WkTqPnqLcGD9PX3dVCQtGUBCRacmOngGN08XyrEK3NN06IL9', {
            minZoom: 6,
	        maxZoom: 15,
        }).addTo(maper);
        maper.attributionControl.addAttribution("<a href=\"https://www.jawg.io\" target=\"_blank\">&copy; Jawg</a> - <a href=\"https://www.openstreetmap.org\" target=\"_blank\">&copy; OpenStreetMap</a>&nbsp;contributors")


        // Icono

        let treeMarker =  L.ExtraMarkers.icon({
            icon: 'fa-leaf',
            markerColor: 'green',
            shape: 'square',
            prefix: 'fa'
        })

        //Selector de Departamentos
            document.getElementById('select-location-departamentos').addEventListener('change', function(e){
                let coords = e.target.value.split(",");
                //L.marker(coords).addTo(maper)
                maper.flyTo(coords, 13);
            });

        //Selector de Ciudades
            document.getElementById('select-location-ciudades').addEventListener('change', function(e){
                let coordsTer = e.target.value.split(",");
                //L.marker(coordsTer).addTo(maper)
                maper.flyTo(coordsTer, 13);
            });

        //Selector de Entrevistas
            document.getElementById('select-location-entrevistas').addEventListener('change', function(e){
                let coordsTerre = e.target.value.split(",");
                //L.marker(coordsTer).addTo(maper)
                maper.flyTo(coordsTerre, 13);
            });

        //Investigaciones:  //<a href="texter/Read.php?toMap&text="> ...</a>
        L.marker([1.6179229304, -75.6085604324]).addTo(maper) .bindPopup('Investigacion de Jaime, Mira la entrevista: <a href="https://www.sapiensdelivery.rf.gd/interviews.html?entre=Jaime"> Aqu칤</a>. Cuando Jaime termine la Investigacion la tendremos aqu칤')
        L.marker([1.21212436525, -77.2785763476]).addTo(maper) .bindPopup('Investigacion de Juliana, Mira la entrevista: <a href="https://www.sapiensdelivery.rf.gd/interviews.html?entre=Juliana"> Aqu칤</a>. Cuando Juliana termine la Investigacion la tendremos aqu칤')
        L.marker([10.9759268186, -74.7952590482]).addTo(maper) .bindPopup('Investigacion de Deison, Mira la entrevista: <a href="https://www.sapiensdelivery.rf.gd/interviews.html?entre=Deison"> Aqu칤</a>. Cuando Deison termine la Investigacion la tendremos aqu칤')
        //Otras
        L.marker([3.8904373526, -74.3593728582]).addTo(maper) .bindPopup('Investigacion de Francesco, Mira la entrevista: <a href="https://www.sapiensdelivery.rf.gd/interviews.html?entre=Francesco"> Aqu칤</a>. Cuando Deison termine la Investigacion la tendremos aqu칤')
        L.marker([9.67, -75.34]).addTo(maper) .bindPopup('Investigacion de Clemen, Mira la entrevista: <a href="https://www.sapiensdelivery.rf.gd/interviews.html?entre=Clemen"> Aqu칤</a>. Cuando Deison termine la Investigacion la tendremos aqu칤')
        L.marker([4.40901089154, -74.138352034]).addTo(maper) .bindPopup('Nuestro Primer video Institucional, Mira el video: <a href="https://www.sapiensdelivery.rf.gd/interviews.html?entre=Institucional"> Aqu칤</a>. Esperamos que te guste 游')
        L.marker([4.65017303026, -74.1073590036]).addTo(maper) .bindPopup('Nuestro segundo Video Institucional, Mira el video: <a href="https://www.sapiensdelivery.rf.gd/interviews.html?entre=Institucional"> Aqu칤</a>. Esperamos que te guste 游')
    </script>

</body>

</html>